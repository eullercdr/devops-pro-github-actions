name: Working with Output
run-name: Working with Output generated by ${{ github.actor }}
on: 
  workflow_dispatch:
jobs: 
  generate-output:
    runs-on: ubuntu-latest
    outputs:
      action_random: ${{ steps.example-output.outputs.action_random }}
      password: ${{ steps.generatedpassword.outputs.password }}
    steps:
      - name: Generate output com shell
        id: example-output
        run: |
          ACTION_RANDOM=$(( $RANDOM ))
          echo "action_random=$ACTION_RANDOM" >> $GITHUB_OUTPUT
      - name: Show output
        run: |
          echo ${{ steps.example-output.outputs.action_random }}

      - name: Generate Password
        uses: aammirmirza/RandomPasswordGenerator@v1.1
        id: generatedpassword
        with:
          length: 15

      - name : Show Password
        run: |
          echo ${{ steps.generatedpassword.outputs.password }}    

  show-output:
    runs-on: ubuntu-latest
    needs: generate-output
    steps:
      - name: Show outputs
        run: |
          echo "action_random: ${{ needs.generate-output.outputs.action_random }}"
          echo "password: ${{ needs.generate-output.outputs.password }}"